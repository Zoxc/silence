use "compiler"

fn parse(input, name)
	IO.puts("Parsing file: " ~ name)
	.compiler = Compiler(input)

export fn main() -> c_int
	match File.read("test.hsh") as r
		when Option.Some
			parse(r.val, "test.hsh")
		when Option.Nil
			IO.puts("Failed to read file")
	return 0